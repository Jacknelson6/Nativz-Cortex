{
  "id": "TASK-18",
  "title": "Mood Board â€” Fix Instagram metadata and thumbnails",
  "category": "functional",
  "description": "Fix Instagram items showing 'Untitled video' with no thumbnail. Ensure metadata fetches correctly and persists after refresh.",
  "acceptanceCriteria": [
    "Instagram link fetches title metadata",
    "Thumbnail populates for Instagram items",
    "No 'Untitled video' default when metadata exists",
    "Metadata persists after page refresh"
  ],
  "steps": [
    {
      "step": 1,
      "description": "Debug Instagram metadata extraction",
      "details": "Added Instagram oEmbed as Tier 1 (api.instagram.com/oembed). HTML scrape remains as Tier 2 fallback.",
      "pass": true
    },
    {
      "step": 2,
      "description": "Fix title extraction",
      "details": "Improved title extraction: oEmbed provides title directly. HTML scrape fallback parses og:title (splits 'X on Instagram: Y' format) and falls back to og:description.",
      "pass": true
    },
    {
      "step": 3,
      "description": "Fix thumbnail extraction",
      "details": "oEmbed provides thumbnail_url directly. HTML scrape provides og:image as fallback. Both are stored in DB on creation.",
      "pass": true
    },
    {
      "step": 4,
      "description": "Verify persistence",
      "details": "Metadata is stored in moodboard_items row on creation (not re-fetched on render). Requires runtime verification.",
      "pass": false
    }
  ],
  "dependencies": [],
  "estimatedComplexity": "high",
  "technicalNotes": [
    "Added Instagram oEmbed tier (api.instagram.com/oembed) which works for public posts without auth",
    "HTML scrape retained as fallback tier",
    "URL normalization added (case-insensitive platform detection)",
    "Remaining validation requires runtime testing with live Instagram URLs"
  ]
}
